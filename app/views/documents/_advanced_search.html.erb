<div class="advanced-search-container <%= "editing" if editing %> <%= "hidden" if hidden %>">
  <%= form_tag search_documents_path, id: :advanced_search, method: :get, class: "editing-section" do %>
    <%= hidden_field_tag :query_type, "advanced" %>
    <%= hidden_field_tag :query %>

    <div class="alert alert-info">
      Drag or click elements to add them to the box. Drag them out of the box to remove them.
    </div>

    <p class="text-center advanced-search-terms">
      <button type="button" class="search-term search-term-operator not" data-operator="not">NOT</button>
      <span class="spacer"></span>
      <button type="button" class="search-term search-term-text" data-type="text">Some text ...</button>
      <button type="button" class="search-term search-term-text" data-type="xpath">Some XPath ...</button>
      <span class="spacer"></span>
      <button type="button" class="search-term search-term-operator and" data-operator="and">AND</button>
      <button type="button" class="search-term search-term-operator or" data-operator="or">OR</button>
    </p>

    <div class="form-group">
      <p class="sr-only">Current query</p>
      <div class="input-group">
        <span class="form-control advanced-search-query editable" data-query="<%= params[:query] %>"></span>
        <span class="input-group-btn">
          <%= button_tag type: "submit", class: "btn btn-primary btn-lg" do %>
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            <span class="sr-only">Search</span>
          <% end %>
        </span>
      </div>
    </div>
  <% end %>

  <div class="viewing-section">
    <div class="input-group">
      <span class="form-control advanced-search-query" data-query="<%= query %>"></span>
      <span class="input-group-btn">
        <%= button_tag type: "button", class: "btn btn-primary btn-lg start-editing" do %>
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          <span class="sr-only">Edit</span>
        <% end %>
      </span>
    </div>
  </div>
</div>
